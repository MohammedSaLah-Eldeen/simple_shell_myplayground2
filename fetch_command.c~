#include "main.h"

/**
 * fetch_command - gets the command from the user
 *
 * @sh: pointer to switch on or off the shell
 * @errs: pointer to access the number of errors made.
 * @av: arguments variables.
 *
 * Return: an array pointers that consists of command tokens
 * or NULL of something failed.
 */
char **fetch_command(int *sh)
{
  char **command;
  char *line = NULL;
  size_t size = 0;
  ssize_t read;
  
  /* printf("$ "); */
  read = getline(&line, &size, stdin);
  if (feof(stdin))
    {
      /*  printf("\n"); */
      free(line);
      *sh = 0;
      return (NULL);
    }
  /* printf("the input was %s", line); */
  stripf(line);
  if (strlen(line) == 0 || read == -1)
    {
      free(line);
      return (NULL);
    }
  command = tokenizef(line);
  return (command);  
}
